<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ParallelME Runtime Environment: Task Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ParallelME Runtime Environment
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_task-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Task Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_task_8hpp_source.html">Task.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_task_1_1_score.html">Score</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa0d01966efe196c38716aa80e280b8ae"><td class="memItemLeft" align="right" valign="top">typedef std::function&lt; void(<a class="el" href="class_device.html">Device</a> &amp;, KernelHash &amp;)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_task.html#aa0d01966efe196c38716aa80e280b8ae">KernelFunction</a></td></tr>
<tr class="separator:aa0d01966efe196c38716aa80e280b8ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6f23dc08d0742b7d482313301b485dfe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f23dc08d0742b7d482313301b485dfe"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Task</b> (const <a class="el" href="class_task.html">Task</a> &amp;)=delete</td></tr>
<tr class="separator:a6f23dc08d0742b7d482313301b485dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4de261be8d86a1114c4d99ef6e2cc8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c4de261be8d86a1114c4d99ef6e2cc8"></a>
<a class="el" href="class_task.html">Task</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="class_task.html">Task</a> &amp;)=delete</td></tr>
<tr class="separator:a6c4de261be8d86a1114c4d99ef6e2cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ac7f31c4ec98affc869916c782337ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_task.html#a5ac7f31c4ec98affc869916c782337ba">Task</a> (<a class="el" href="class_program.html#afeed42edb0693b2c3516ceb56ab1067a">Program::Vector</a> &amp;programs, <a class="el" href="struct_task_1_1_score.html">Score</a> <a class="el" href="class_task.html#ad85f93fce24938fa5886f8542b003a14">score</a>=<a class="el" href="struct_task_1_1_score.html">Score</a>())</td></tr>
<tr class="separator:a5ac7f31c4ec98affc869916c782337ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14758626e93f758b2bda346e8b43d216"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_task.html">Task</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_task.html#a14758626e93f758b2bda346e8b43d216">addKernel</a> (const std::string &amp;name)</td></tr>
<tr class="separator:a14758626e93f758b2bda346e8b43d216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b90dbfc156ae6d2de196be7aac837ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_task.html#a9b90dbfc156ae6d2de196be7aac837ba">setConfigFunction</a> (<a class="el" href="class_task.html#aa0d01966efe196c38716aa80e280b8ae">KernelFunction</a> configFunction)</td></tr>
<tr class="separator:a9b90dbfc156ae6d2de196be7aac837ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f1da49ba229fc6ad405dd985885451"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_task.html#a68f1da49ba229fc6ad405dd985885451">setFinishFunction</a> (<a class="el" href="class_task.html#aa0d01966efe196c38716aa80e280b8ae">KernelFunction</a> finishFunction)</td></tr>
<tr class="separator:a68f1da49ba229fc6ad405dd985885451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad85f93fce24938fa5886f8542b003a14"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_task_1_1_score.html">Score</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_task.html#ad85f93fce24938fa5886f8542b003a14">score</a> ()</td></tr>
<tr class="separator:ad85f93fce24938fa5886f8542b003a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e204909694cef3f539292cab4cf1221"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_kernel.html">Kernel</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_task.html#a0e204909694cef3f539292cab4cf1221">kernel</a> (const std::string &amp;name)</td></tr>
<tr class="separator:a0e204909694cef3f539292cab4cf1221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a3feee881984967f1363fb2efa56529"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a3feee881984967f1363fb2efa56529"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_task.html#a5a3feee881984967f1363fb2efa56529">callConfigFunction</a> (<a class="el" href="class_device.html">Device</a> &amp;device)</td></tr>
<tr class="memdesc:a5a3feee881984967f1363fb2efa56529"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the configFunction currently set or does nothing if it wasn't set. <br /></td></tr>
<tr class="separator:a5a3feee881984967f1363fb2efa56529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e80f8c65be83d36ab2dfc78f89ab79"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a21e80f8c65be83d36ab2dfc78f89ab79"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_task.html#a21e80f8c65be83d36ab2dfc78f89ab79">callFinishFunction</a> (<a class="el" href="class_device.html">Device</a> &amp;device)</td></tr>
<tr class="memdesc:a21e80f8c65be83d36ab2dfc78f89ab79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the finishFunction currently set or does nothing if it wasn't set. <br /></td></tr>
<tr class="separator:a21e80f8c65be83d36ab2dfc78f89ab79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b28879e7a1372390951c1dd68987258"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b28879e7a1372390951c1dd68987258"></a>
const ProgramObjectMap &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_task.html#a8b28879e7a1372390951c1dd68987258">programObjects</a> ()</td></tr>
<tr class="memdesc:a8b28879e7a1372390951c1dd68987258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the map of program objects. <br /></td></tr>
<tr class="separator:a8b28879e7a1372390951c1dd68987258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50e69fd025bb9bf17c4097d89c8b2401"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a50e69fd025bb9bf17c4097d89c8b2401"></a>
const KernelVector &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_task.html#a50e69fd025bb9bf17c4097d89c8b2401">kernels</a> ()</td></tr>
<tr class="memdesc:a50e69fd025bb9bf17c4097d89c8b2401"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the kernels in the order of execution. <br /></td></tr>
<tr class="separator:a50e69fd025bb9bf17c4097d89c8b2401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae283863db0cbe0c57348a661cdf89005"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_task.html#ae283863db0cbe0c57348a661cdf89005">hasDeviceType</a> (DeviceType type)</td></tr>
<tr class="separator:ae283863db0cbe0c57348a661cdf89005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa82389f369ee1c86acec2b7e0d6daece"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_task.html#aa82389f369ee1c86acec2b7e0d6daece">hasDeviceID</a> (DeviceID id)</td></tr>
<tr class="separator:aa82389f369ee1c86acec2b7e0d6daece"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a single task to be executed by the target device. Can be composed of multiple kernels. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="aa0d01966efe196c38716aa80e280b8ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::function&lt;void (<a class="el" href="class_device.html">Device</a> &amp;, KernelHash &amp;)&gt; <a class="el" href="class_task.html#aa0d01966efe196c38716aa80e280b8ae">Task::KernelFunction</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback function called before the task is executed to configure the task or after the task is executed to get the buffers back. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5ac7f31c4ec98affc869916c782337ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task::Task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_program.html#afeed42edb0693b2c3516ceb56ab1067a">Program::Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>programs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_task_1_1_score.html">Score</a>&#160;</td>
          <td class="paramname"><em>score</em> = <code><a class="el" href="struct_task_1_1_score.html">Score</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a task. A task is composed of multiple kernels that are dependent of each other. Different tasks can be executed concurrently. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">programs</td><td>Vector of the programs available for the task execution. This makes all the target devices that the programs supports available for execution for the task. The order in which they are specified in the vector also defines which programs have preference for execution. For example, if you create a task with an OpenCL program specified first and then a RenderScript program, OpenCL will be used for both CPU and GPU devices if available, and RenderScript will be used as a CPU device only if OpenCL CPU wasn't found. However, if you create a task with a RenderScript program specified first and then a RenderScript program, RenderScript will be used as the CPU device and OpenCL as the GPU device. </td></tr>
    <tr><td class="paramname">score</td><td>How good the task is to execute at each device type. By default the task is good to execute on all device types. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a14758626e93f758b2bda346e8b43d216"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_task.html">Task</a>* Task::addKernel </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a kernel to the task. The kernels are executed in the order they were added. </p>

</div>
</div>
<a class="anchor" id="aa82389f369ee1c86acec2b7e0d6daece"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Task::hasDeviceID </td>
          <td>(</td>
          <td class="paramtype">DeviceID&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns if the <a class="el" href="class_task.html">Task</a> has the given device ID. </p>

</div>
</div>
<a class="anchor" id="ae283863db0cbe0c57348a661cdf89005"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Task::hasDeviceType </td>
          <td>(</td>
          <td class="paramtype">DeviceType&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns if the <a class="el" href="class_task.html">Task</a> already has a ProgramObject with the given device type. </p>

</div>
</div>
<a class="anchor" id="a0e204909694cef3f539292cab4cf1221"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_kernel.html">Kernel</a>&amp; Task::kernel </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the kernel with the given name or throws an exception. This should only be used temporarily, and not stored. </p>

</div>
</div>
<a class="anchor" id="ad85f93fce24938fa5886f8542b003a14"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_task_1_1_score.html">Score</a>&amp; Task::score </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the score of the task/ </p>

</div>
</div>
<a class="anchor" id="a9b90dbfc156ae6d2de196be7aac837ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Task::setConfigFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_task.html#aa0d01966efe196c38716aa80e280b8ae">KernelFunction</a>&#160;</td>
          <td class="paramname"><em>configFunction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function prepares the <a class="el" href="class_task.html">Task</a> to be executed by a worker. It is called after the scheduler decides where the task will run on, so that buffers can be created and set to the Kernels with only one copy for each device. </p>

</div>
</div>
<a class="anchor" id="a68f1da49ba229fc6ad405dd985885451"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Task::setFinishFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_task.html#aa0d01966efe196c38716aa80e280b8ae">KernelFunction</a>&#160;</td>
          <td class="paramname"><em>finishFunction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function gets the data back from the <a class="el" href="class_task.html">Task</a> after it is executed by a worker. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/<a class="el" href="_task_8hpp_source.html">Task.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
